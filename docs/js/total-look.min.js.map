{"version":3,"sources":["src/js/main.js","../../src/js/component/component.js","../../src/js/emitter/emitter.js","../../src/js/drag/drag.listener.js","../../src/js/total-look/total-look-card.component.js","../../src/js/total-look/total-look-pin.component.js","../../src/js/total-look/total-look.component.js","../../src/js/main.js"],"names":["global","factory","exports","module","define","amd","self","this","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_inheritsLoose","subClass","superClass","create","constructor","__proto__","Component","_Emitter","apply","arguments","_proto","getNode","render","template","div","document","createElement","innerHTML","firstElementChild","setNode","node","parentNode","replaceChild","onInit","setParentNode","appendChild","destroy","onDestroy","Emitter","options","assign","events","on","type","callback","_this","event","push","filter","x","off","emit","data","forEach","broadcast","DragListener","currentTarget","downCallback","moveCallback","upCallback","e","console","log","dragging","onMouseDown","bind","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","addListeners","get","undefined","passive_","window","addEventListener","err","passive","capture","removeEventListener","removeMouseListeners","removeTouchListeners","onDown","down","strength","y","distance","speed","onDrag","position","innerWidth","innerHeight","onUp","originalEvent","clientX","clientY","addMouseListeners","touches","pageX","pageY","addTouchListeners","TotalLookCardComponent","_Component","item","hasAttribute","Function","getAttribute","removeListeners","onResize","onClick","update","active","classList","add","remove","TotalLookPinComponent","call","TotalLookComponent","groupLook","querySelector","picture","cursor","listing","listingInner","cards","Array","slice","querySelectorAll","map","pins","onImage","img","addDragListener","setActive","imageWidth","imageHeight","_this2","containerWidth","offsetWidth","containerHeight","offsetHeight","containerRatio","imgRatio","naturalWidth","naturalHeight","direction","style","width","height","card","listingInnerWidth","Math","ceil","dx","getBoundingClientRect","left","min","max","gsap","to","duration","delay","overwrite","pin","pinX","pinY","set","dy","loadImage","_this3","loader","Image","onload","src","_this4","removeDragListener","_this5","x_","y_","draglistener","transform","coords","split","parseFloat","_this6","direction_","setTimeout","Main","addComponents","SELECTORS","[total-look]","instances","_loop","concat","from","instance","alert"],"mappings":"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","file":"docs/js/total-look.min.js","sourcesContent":[null,"import Emitter from \"../emitter/emitter\";\n\nexport default class Component extends Emitter {\n\n\tgetNode() {\n\t\tif (typeof this.render === 'function') {\n\t\t\tconst template = this.render();\n\t\t\tif (!template) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst div = document.createElement(\"div\");\n\t\t\tdiv.innerHTML = template;\n\t\t\tconst node = div.firstElementChild;\n\t\t\treturn node;\n\t\t}\n\t}\n\n\tsetNode(node) {\n\t\tconst template = this.getNode();\n\t\tif (template) {\n\t\t\tnode.parentNode.replaceChild(template, node);\n\t\t\tnode = template;\n\t\t}\n\t\tthis.node = node;\n\t\tif (typeof this.onInit === 'function') {\n\t\t\tthis.onInit(this.node);\n\t\t}\n\t\treturn this;\n\t}\n\n\tsetParentNode(node) {\n\t\tconst template = this.getNode();\n\t\tif (template) {\n\t\t\tnode.appendChild(template);\n\t\t}\n\t\tthis.node = template;\n\t\tif (typeof this.onInit === 'function') {\n\t\t\tthis.onInit(this.node);\n\t\t}\n\t\treturn this;\n\t}\n\n\tdestroy() {\n\t\tif (typeof this.onDestroy === 'function') {\n\t\t\tthis.onDestroy(this.node);\n\t\t}\n\t}\n\n\t/*\n\trender() {\n\t\treturn `<div class=\"card--component\">\n\t\t\tI'm an ES6 component!\n\t\t</div>`;\n\t}\n\t*/\n}\n","export default class Emitter {\n\n\tconstructor(options = {}) {\n\t\tObject.assign(this, options);\n\t\tthis.events = {};\n\t}\n\n\ton(type, callback) {\n\t\tconst event = (this.events[type] = this.events[type] || []);\n\t\tevent.push(callback);\n\t\treturn () => {\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\n\t\t};\n\t}\n\n\toff(type, callback) {\n\t\tconst event = this.events[type];\n\t\tif (event) {\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\n\t\t}\n\t}\n\n\temit(type, data) {\n\t\tconst event = this.events[type];\n\t\tif (event) {\n\t\t\tevent.forEach(callback => {\n\t\t\t\t// callback.call(this, data);\n\t\t\t\tcallback(data);\n\t\t\t});\n\t\t}\n\t\tconst broadcast = this.events.broadcast;\n\t\tif (broadcast) {\n\t\t\tbroadcast.forEach(callback => {\n\t\t\t\tcallback(type, data);\n\t\t\t});\n\t\t}\n\t}\n\n}\n","export default class DragListener {\n\n\tget passive() {\n\t\tif (this.passive_ !== undefined) {\n\t\t\treturn this.passive_;\n\t\t} else {\n\t\t\tthis.passive_ = false;\n\t\t\ttry {\n\t\t\t\tconst options = Object.defineProperty({}, 'passive', {\n\t\t\t\t\tget: () => {\n\t\t\t\t\t\tthis.passive_ = !0;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\twindow.addEventListener('test', null, options);\n\t\t\t} catch (err) {\n\n\t\t\t}\n\t\t\treturn this.passive_;\n\t\t}\n\t}\n\n\tget options() {\n\t\tif (this.passive) {\n\t\t\treturn {\n\t\t\t\tpassive: false,\n\t\t\t\tcapture: true\n\t\t\t};\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tconstructor(currentTarget, downCallback, moveCallback, upCallback) {\n\t\tthis.currentTarget = currentTarget || document;\n\t\tthis.downCallback = downCallback || function (e) {\n\t\t\tconsole.log('DragListener.downCallback not setted', e);\n\t\t};\n\t\tthis.moveCallback = moveCallback || function (e) {\n\t\t\tconsole.log('DragListener.moveCallback not setted', e);\n\t\t};\n\t\tthis.upCallback = upCallback || function (e) {\n\t\t\tconsole.log('DragListener.upCallback not setted', e);\n\t\t};\n\t\tthis.dragging = false;\n\t\tthis.onMouseDown = this.onMouseDown.bind(this);\n\t\tthis.onMouseMove = this.onMouseMove.bind(this);\n\t\tthis.onMouseUp = this.onMouseUp.bind(this);\n\t\tthis.onTouchStart = this.onTouchStart.bind(this);\n\t\tthis.onTouchMove = this.onTouchMove.bind(this);\n\t\tthis.onTouchEnd = this.onTouchEnd.bind(this);\n\t\tthis.addListeners();\n\t}\n\n\taddListeners() {\n\t\tthis.currentTarget.addEventListener('touchstart', this.onTouchStart, this.options);\n\t\tthis.currentTarget.addEventListener('mousedown', this.onMouseDown, this.options);\n\t}\n\n\tdestroy() {\n\t\tthis.currentTarget.removeEventListener('touchstart', this.onTouchStart);\n\t\tthis.currentTarget.removeEventListener('mousedown', this.onMouseDown);\n\t\tthis.removeMouseListeners();\n\t\tthis.removeTouchListeners();\n\t}\n\n\tonDown(down) {\n\t\tthis.down = down;\n\t\tthis.strength = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tthis.distance = this.distance || {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tthis.speed = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tthis.downCallback(this);\n\t}\n\n\tonDrag(position) {\n\t\tthis.dragging = position && this.down !== undefined;\n\t\tif (this.dragging) {\n\t\t\tconst currentTarget = this.currentTarget;\n\t\t\tconst distance = {\n\t\t\t\tx: position.x - this.down.x,\n\t\t\t\ty: position.y - this.down.y\n\t\t\t};\n\t\t\tconst strength = {\n\t\t\t\tx: distance.x / window.innerWidth * 2,\n\t\t\t\ty: distance.y / window.innerHeight * 2\n\t\t\t};\n\t\t\tconst speed = {\n\t\t\t\tx: this.speed.x + (strength.x - this.strength.x) * 0.1,\n\t\t\t\ty: this.speed.y + (strength.y - this.strength.y) * 0.1\n\t\t\t};\n\t\t\tthis.position = position;\n\t\t\tthis.distance = distance;\n\t\t\tthis.strength = strength;\n\t\t\tthis.speed = speed;\n\t\t\tthis.moveCallback({\n\t\t\t\tposition: position,\n\t\t\t\tdistance: distance,\n\t\t\t\tstrength: strength,\n\t\t\t\tspeed: speed,\n\t\t\t\tcurrentTarget: currentTarget,\n\t\t\t});\n\t\t}\n\t}\n\n\tonUp() {\n\t\tthis.down = undefined;\n\t\tthis.dragging = false;\n\t\tthis.upCallback(this);\n\t}\n\n\tonMouseDown(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tthis.currentTarget.removeEventListener('touchstart', this.onTouchStart);\n\t\tthis.onDown({\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY\n\t\t});\n\t\tthis.addMouseListeners();\n\t}\n\n\tonMouseMove(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tthis.onDrag({\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY\n\t\t});\n\t}\n\n\tonMouseUp(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tthis.removeMouseListeners();\n\t\t/*\n\t\tthis.onDrag({\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY\n\t\t});\n\t\t*/\n\t\tthis.onUp();\n\t}\n\n\tonTouchStart(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tthis.currentTarget.removeEventListener('mousedown', this.onMouseDown);\n\t\tif (e.touches.length > 0) {\n\t\t\t// e.preventDefault();\n\t\t\tthis.onDown({\n\t\t\t\tx: e.touches[0].pageX,\n\t\t\t\ty: e.touches[0].pageY\n\t\t\t});\n\t\t\tthis.addTouchListeners();\n\t\t}\n\t}\n\n\tonTouchMove(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tif (e.touches.length > 0) {\n\t\t\t// e.preventDefault();\n\t\t\tthis.onDrag({\n\t\t\t\tx: e.touches[0].pageX,\n\t\t\t\ty: e.touches[0].pageY\n\t\t\t});\n\t\t}\n\t}\n\n\tonTouchEnd(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tthis.removeTouchListeners();\n\t\tthis.onDrag(this.position);\n\t\tthis.onUp();\n\t}\n\n\taddMouseListeners() {\n\t\tdocument.addEventListener('mousemove', this.onMouseMove, this.options);\n\t\tdocument.addEventListener('mouseup', this.onMouseUp, this.options);\n\t}\n\n\taddTouchListeners() {\n\t\tdocument.addEventListener('touchend', this.onTouchEnd, this.options);\n\t\tdocument.addEventListener('touchmove', this.onTouchMove, this.options);\n\t}\n\n\tremoveMouseListeners() {\n\t\tdocument.removeEventListener('mousemove', this.onMouseMove);\n\t\tdocument.removeEventListener('mouseup', this.onMouseUp);\n\t}\n\n\tremoveTouchListeners() {\n\t\tdocument.removeEventListener('touchend', this.onTouchEnd);\n\t\tdocument.removeEventListener('touchmove', this.onTouchMove);\n\t}\n\n}\n","import Component from \"../component/component\";\n\nexport default class TotalLookCardComponent extends Component {\n\n\tonInit(node) {\n\t\tthis.item = node.hasAttribute('data-item') ? new Function(`return ${node.getAttribute('data-item')}`)() : {};\n\t\tthis.addListeners();\n\t}\n\n\tonDestroy() {\n\t\tthis.removeListeners();\n\t}\n\n\tonResize() {\n\t\t// console.log('TotalLookCardComponent.onResize');\n\t}\n\n\tonClick() {\n\t\t// console.log('TotalLookCardComponent.onClick');\n\t\tthis.emit('click');\n\t}\n\n\taddListeners() {\n\t\t// this.onResize = this.onResize.bind(this);\n\t\tthis.onClick = this.onClick.bind(this);\n\t\t// window.addEventListener('resize', this.onResize);\n\t\tthis.node.addEventListener('click', this.onClick);\n\t}\n\n\tremoveListeners() {\n\t\t// window.removeEventListener('resize', this.onResize);\n\t\tthis.node.removeEventListener('click', this.onClick);\n\t}\n\n\tupdate() {\n\t\tif (this.item.active) {\n\t\t\tthis.node.classList.add('active');\n\t\t} else {\n\t\t\tthis.node.classList.remove('active');\n\t\t}\n\t}\n\n}\n","import Component from \"../component/component\";\n\nexport default class TotalLookPinComponent extends Component {\n\n\tconstructor(item) {\n\t\tsuper();\n\t\tthis.item = item;\n\t}\n\n\tonInit(node) {\n\t\tthis.addListeners();\n\t}\n\n\tonDestroy() {\n\t\tthis.removeListeners();\n\t}\n\n\tonResize() {\n\t\t// console.log('TotalLookPinComponent.onResize');\n\t\tthis.emit('click');\n\t}\n\n\tonClick() {\n\t\t// console.log('TotalLookPinComponent.onClick');\n\t\tthis.emit('click');\n\t}\n\n\taddListeners() {\n\t\t// this.onResize = this.onResize.bind(this);\n\t\tthis.onClick = this.onClick.bind(this);\n\t\t// window.addEventListener('resize', this.onResize);\n\t\tthis.node.addEventListener('click', this.onClick);\n\t}\n\n\tremoveListeners() {\n\t\t// window.removeEventListener('resize', this.onResize);\n\t\tthis.node.removeEventListener('click', this.onClick);\n\t}\n\n\trender() {\n\t\treturn `<div class=\"pin\"></div>`;\n\t}\n\n\tupdate() {\n\t\tif (this.item.active) {\n\t\t\tthis.node.classList.add('active');\n\t\t} else {\n\t\t\tthis.node.classList.remove('active');\n\t\t}\n\t}\n\n}\n","import Component from \"../component/component\";\nimport DragListener from \"../drag/drag.listener\";\nimport TotalLookCardComponent from \"./total-look-card.component\";\nimport TotalLookPinComponent from \"./total-look-pin.component\";\n\nexport default class TotalLookComponent extends Component {\n\n\tonInit(node) {\n\t\t// console.log('TotalLookComponent', node);\n\t\tthis.groupLook = node.querySelector('.group--look');\n\t\tthis.picture = node.querySelector('.group--look .picture');\n\t\tthis.cursor = node.querySelector('.cursor');\n\t\tthis.listing = node.querySelector('.listing--products');\n\t\tthis.listingInner = node.querySelector('.listing--products__inner');\n\t\tthis.cards = Array.prototype.slice.call(node.querySelectorAll('.card--product')).map(x => new TotalLookCardComponent().setNode(x));\n\t\tthis.pins = this.cards.map(x => new TotalLookPinComponent(x.item).setParentNode(this.picture));\n\t\tthis.addListeners();\n\t}\n\n\tonDestroy() {\n\t\tthis.removeListeners();\n\t}\n\n\tonImage(img) {\n\t\tthis.img = img;\n\t\tthis.node.classList.add('init');\n\t\tthis.addDragListener();\n\t\tif (this.cards.length) {\n\t\t\tthis.setActive(this.cards[0].item);\n\t\t} else {\n\t\t\tthis.onResize();\n\t\t}\n\t}\n\n\tset direction(direction) {\n\t\tif (this.direction_ !== direction) {\n\t\t\tthis.direction_ = direction;\n\t\t\tif (direction === 'vertical') {\n\t\t\t\tthis.node.classList.add('vertical');\n\t\t\t\tthis.node.classList.remove('horizontal');\n\t\t\t} else {\n\t\t\t\tthis.node.classList.add('horizontal');\n\t\t\t\tthis.node.classList.remove('vertical');\n\t\t\t}\n\t\t\tthis.node.classList.add('show-hint');\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.node.classList.remove('show-hint');\n\t\t\t}, 4000);\n\t\t}\n\t}\n\n\tonResize() {\n\t\tconst img = this.img;\n\t\tconst groupLook = this.groupLook;\n\t\tconst picture = this.picture;\n\t\tconst containerWidth = groupLook.offsetWidth;\n\t\tconst containerHeight = groupLook.offsetHeight;\n\t\tconst containerRatio = containerWidth / containerHeight;\n\t\tconst imgRatio = img.naturalWidth / img.naturalHeight;\n\t\tlet imageWidth, imageHeight;\n\t\tif (containerRatio > imgRatio) {\n\t\t\timageWidth = groupLook.offsetWidth;\n\t\t\timageHeight = (groupLook.offsetWidth / imgRatio);\n\t\t\tthis.direction = 'vertical';\n\t\t} else {\n\t\t\timageWidth = (groupLook.offsetHeight * imgRatio);\n\t\t\timageHeight = groupLook.offsetHeight;\n\t\t\tthis.direction = 'horizontal';\n\t\t}\n\t\tpicture.style.width = `${imageWidth}px`;\n\t\tpicture.style.height = `${imageHeight}px`;\n\t\tthis.containerWidth = containerWidth;\n\t\tthis.containerHeight = containerHeight;\n\t\tthis.imageWidth = imageWidth;\n\t\tthis.imageHeight = imageHeight;\n\t\tthis.cards.forEach((card, i) => {\n\t\t\tconst listingInnerWidth = card.node.offsetWidth * Math.ceil(this.cards.length / 2);\n\t\t\tif (i === 0) {\n\t\t\t\tthis.listingInner.style.width = `${listingInnerWidth}px`;\n\t\t\t}\n\t\t\tif (card.item.active) {\n\t\t\t\t// const x = (card.node.getBoundingClientRect().left - this.listing.getBoundingClientRect().left) + this.listing.scrollLeft;\n\t\t\t\tconst dx = containerWidth - listingInnerWidth;\n\t\t\t\tlet x = (this.listing.getBoundingClientRect().left - card.node.getBoundingClientRect().left);\n\t\t\t\tx = Math.min(0, Math.max(dx, x));\n\t\t\t\tgsap.to(this.listingInner, {\n\t\t\t\t\tx: x,\n\t\t\t\t\tduration: 0.3,\n\t\t\t\t\tdelay: 0.1,\n\t\t\t\t\toverwrite: true,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthis.pins.forEach(pin => {\n\t\t\tconst pinX = imageWidth / img.naturalWidth * pin.item.position.x;\n\t\t\tconst pinY = imageWidth / img.naturalWidth * pin.item.position.y;\n\t\t\tgsap.set(pin.node, {\n\t\t\t\tx: pinX,\n\t\t\t\ty: pinY,\n\t\t\t});\n\t\t\tif (pin.item.active) {\n\t\t\t\tconst dx = containerWidth - imageWidth;\n\t\t\t\tconst dy = containerHeight - imageHeight;\n\t\t\t\tconst x = containerWidth / 2 - pinX;\n\t\t\t\tconst y = containerHeight / 2 - pinY;\n\t\t\t\tgsap.to(this.picture, {\n\t\t\t\t\tx: Math.min(0, Math.max(dx, x)),\n\t\t\t\t\ty: Math.min(0, Math.max(dy, y)),\n\t\t\t\t\tduration: 0.3,\n\t\t\t\t\toverwrite: true,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\t/*\n\tonEnter() {\n\t\tthis.node.classList.add('enter');\n\t}\n\n\tonLeave() {\n\t\tthis.node.classList.remove('enter');\n\t}\n\n\tonMove(event) {\n\t\tgsap.set(this.cursor, {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY,\n\t\t\t// duration: 0.3,\n\t\t\t// overwrite: true,\n\t\t});\n\t}\n\t*/\n\n\tloadImage() {\n\t\tconst img = this.node.querySelector('.group--look img');\n\t\tconst loader = new Image();\n\t\tloader.onload = () => {\n\t\t\tthis.onImage(img);\n\t\t}\n\t\tloader.src = img.src;\n\t}\n\n\tsetActive(item) {\n\t\tthis.cards.forEach(x => {\n\t\t\tx.item !== item ? x.item.active = false : x.item.active = true;\n\t\t\tx.update();\n\t\t});\n\t\tthis.pins.forEach(x => x.update());\n\t\tthis.onResize();\n\t}\n\n\taddListeners() {\n\t\tthis.loadImage();\n\t\tthis.onResize = this.onResize.bind(this);\n\t\t// this.onMove = this.onMove.bind(this);\n\t\t// this.onEnter = this.onEnter.bind(this);\n\t\t// this.onLeave = this.onLeave.bind(this);\n\t\twindow.addEventListener('resize', this.onResize);\n\t\t// window.addEventListener('mousemove', this.onMove);\n\t\t// this.groupLook.addEventListener('mouseenter', this.onEnter);\n\t\t// this.groupLook.addEventListener('mouseleave', this.onLeave);\n\t\tthis.cards.forEach(x => {\n\t\t\tx.on('click', () => {\n\t\t\t\t// console.log('TotalLookComponent.card.click', x.item);\n\t\t\t\tthis.setActive(x.item);\n\t\t\t\tthis.node.classList.remove('open');\n\t\t\t});\n\t\t});\n\t\tthis.pins.forEach(x => {\n\t\t\tx.on('click', () => {\n\t\t\t\t// console.log('TotalLookComponent.pin.click', x.item);\n\t\t\t\tthis.setActive(x.item);\n\t\t\t\tthis.node.classList.add('open');\n\t\t\t});\n\t\t});\n\t}\n\n\tremoveListeners() {\n\t\tthis.removeDragListener();\n\t\twindow.removeEventListener('resize', this.onResize);\n\t\t// window.removeEventListener('mousemove', this.onMove);\n\t\t// this.groupLook.removeEventListener('mouseenter', this.onEnter);\n\t\t// this.groupLook.removeEventListener('mouseleave', this.onLeave);\n\t}\n\n\taddDragListener() {\n\t\tconst picture = this.picture;\n\t\tlet x_ = 0,\n\t\t\ty_ = 0;\n\t\tthis.draglistener = new DragListener(this.groupLook, (e) => {\n\t\t\tconst transform = picture.style.transform;\n\t\t\tif (transform) {\n\t\t\t\tconst coords = transform.split('(')[1].split([')'])[0].split(',');\n\t\t\t\tx_ = parseFloat(coords[0]);\n\t\t\t\ty_ = parseFloat(coords[1]);\n\t\t\t}\n\t\t\tthis.node.classList.remove('open');\n\t\t}, (e) => {\n\t\t\tconst dx = this.containerWidth - this.imageWidth;\n\t\t\tconst dy = this.containerHeight - this.imageHeight;\n\t\t\tconst x = x_ + e.distance.x;\n\t\t\tconst y = y_ + e.distance.y;\n\t\t\tgsap.to(picture, {\n\t\t\t\tx: Math.min(0, Math.max(dx, x)),\n\t\t\t\ty: Math.min(0, Math.max(dy, y)),\n\t\t\t\tduration: 0.3,\n\t\t\t\toverwrite: true,\n\t\t\t});\n\t\t}, (e) => {\n\t\t\t//\n\t\t});\n\t}\n\n\tremoveDragListener() {\n\t\tif (this.draglistener) {\n\t\t\tthis.draglistener.destroy();\n\t\t}\n\t}\n\n}\n","import TotalLookComponent from './total-look/total-look.component';\n\nexport default class Main {\n\n\tconstructor() {\n\t\tconst components = this.addComponents();\n\t}\n\n\taddComponents() {\n\t\tconst SELECTORS = {\n\t\t\t'[total-look]': TotalLookComponent,\n\t\t};\n\t\tlet instances = [];\n\t\tfor (let key in SELECTORS) {\n\t\t\tinstances = instances.concat(Array.from(document.querySelectorAll(key))\n\t\t\t\t.map(node => {\n\t\t\t\t\tconst instance = new SELECTORS[key]().setNode(node);\n\t\t\t\t\tinstance.on('click', () => {\n\t\t\t\t\t\talert('clicked');\n\t\t\t\t\t});\n\t\t\t\t\treturn instance;\n\t\t\t\t}));\n\t\t}\n\t\tinstances.forEach(x => console.log(x));\n\t\treturn instances;\n\t}\n\n}\n\nconst main = new Main();\n"]}