{"version":3,"sources":["src/js/main.js","../../src/js/total-look/total-look.component.js","../../src/js/component/component.js","../../src/js/emitter/emitter.js","../../src/js/drag/drag.listener.js","../../src/js/total-look/total-look-card.component.js","../../src/js/total-look/total-look-pin.component.js","../../src/js/main.js"],"names":["global","factory","exports","module","define","amd","self","this","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","prototype","_inheritsLoose","subClass","superClass","create","constructor","__proto__","to","Component","_Emitter","apply","arguments","_proto","getNode","render","template","div","document","createElement","innerHTML","firstElementChild","setNode","node","parentNode","replaceChild","onInit","setParentNode","appendChild","destroy","onDestroy","Emitter","options","assign","events","on","type","callback","_this","event","push","filter","x","off","emit","data","forEach","broadcast","DragListener","currentTarget","downCallback","moveCallback","upCallback","e","console","log","dragging","onMouseDown","bind","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","addListeners","get","undefined","passive_","window","addEventListener","err","passive","capture","removeEventListener","removeMouseListeners","removeTouchListeners","onDown","down","strength","y","distance","speed","onDrag","position","innerWidth","innerHeight","onUp","originalEvent","clientX","clientY","addMouseListeners","touches","pageX","pageY","addTouchListeners","TotalLookCardComponent","_Component","item","hasAttribute","Function","getAttribute","removeListeners","onResize","onClick","update","active","classList","add","remove","TotalLookPinComponent","call","TotalLookComponent","groupLook","querySelector","picture","cursor01","listing","listingInner","cards","Array","slice","querySelectorAll","map","pins","onImage","img","addDragListener","setActive","loadImage","_this2","loader","Image","onload","src","immediate","imageWidth","imageHeight","_this3","containerWidth","offsetWidth","containerHeight","offsetHeight","containerRatio","imgRatio","naturalWidth","naturalHeight","direction","style","width","height","card","listingInnerWidth","Math","ceil","dx","translation","getTranslate","getBoundingClientRect","left","min","max","gsap","set","duration","delay","overwrite","pinPosition","pin","pinX","pinY","dy","onWheel","preventDefault","deltaY","onDelayedResize","clearTimeout","setTimeout","_this4","removeDragListener","_this5","draglistener","transform","coords","split","parseFloat","direction_","Main","addComponents","SELECTORS","[total-look]","instances","_loop","concat","from","instance","alert"],"mappings":"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","file":"docs/js/total-look.min.js","sourcesContent":[null,"import Component from \"../component/component\";\nimport DragListener from \"../drag/drag.listener\";\nimport TotalLookCardComponent from \"./total-look-card.component\";\nimport TotalLookPinComponent from \"./total-look-pin.component\";\n\nlet to;\n\nexport default class TotalLookComponent extends Component {\n\n\tonInit(node) {\n\t\t// console.log('TotalLookComponent', node);\n\t\tthis.groupLook = node.querySelector('.group--look');\n\t\tthis.picture = node.querySelector('.group--look .picture');\n\t\tthis.cursor01 = node.querySelector('.cursor-01');\n\t\tthis.listing = node.querySelector('.listing--products');\n\t\tthis.listingInner = node.querySelector('.listing--products__inner');\n\t\tthis.cards = Array.prototype.slice.call(node.querySelectorAll('.card--product')).map(x => new TotalLookCardComponent().setNode(x));\n\t\tthis.pins = this.cards.map(x => new TotalLookPinComponent(x.item).setParentNode(this.picture));\n\t\tthis.addListeners();\n\t}\n\n\tonDestroy() {\n\t\tthis.removeListeners();\n\t}\n\n\tonImage(img) {\n\t\tthis.img = img;\n\t\tthis.node.classList.add('init');\n\t\tthis.addDragListener();\n\t\tif (this.cards.length && window.innerWidth >= 1024) {\n\t\t\tthis.setActive(this.cards[0].item, true);\n\t\t} else {\n\t\t\tthis.onResize(true);\n\t\t}\n\t}\n\n\tset direction(direction) {\n\t\tif (this.direction_ !== direction) {\n\t\t\tthis.direction_ = direction;\n\t\t\tif (direction === 'vertical') {\n\t\t\t\tthis.node.classList.add('vertical');\n\t\t\t\tthis.node.classList.remove('horizontal');\n\t\t\t} else {\n\t\t\t\tthis.node.classList.add('horizontal');\n\t\t\t\tthis.node.classList.remove('vertical');\n\t\t\t}\n\t\t\tthis.node.classList.add('show-hint');\n\t\t\t/*\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.node.classList.remove('show-hint');\n\t\t\t}, 4000);\n\t\t\t*/\n\t\t}\n\t}\n\n\t/*\n\tonEnter() {\n\t\tthis.node.classList.add('enter');\n\t}\n\n\tonLeave() {\n\t\tthis.node.classList.remove('enter');\n\t}\n\n\tonMove(event) {\n\t\tgsap.set(this.cursor01, {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY,\n\t\t\t// duration: 0.3,\n\t\t\t// overwrite: true,\n\t\t});\n\t}\n\t*/\n\n\tloadImage() {\n\t\tconst img = this.node.querySelector('.group--look img');\n\t\tconst loader = new Image();\n\t\tloader.onload = () => {\n\t\t\tthis.onImage(img);\n\t\t}\n\t\tloader.src = img.src;\n\t}\n\n\tsetActive(item, immediate = false) {\n\t\tthis.cards.forEach(x => {\n\t\t\tx.item !== item ? x.item.active = false : x.item.active = true;\n\t\t\tx.update();\n\t\t});\n\t\tthis.pins.forEach(x => x.update());\n\t\tthis.onResize(immediate);\n\t}\n\n\tonResize(event) {\n\t\tconst img = this.img;\n\t\tconst groupLook = this.groupLook;\n\t\tconst picture = this.picture;\n\t\tconst containerWidth = groupLook.offsetWidth;\n\t\tconst containerHeight = groupLook.offsetHeight;\n\t\tconst containerRatio = containerWidth / containerHeight;\n\t\tconst imgRatio = img.naturalWidth / img.naturalHeight;\n\t\tlet imageWidth, imageHeight;\n\t\tif (containerRatio > imgRatio) {\n\t\t\timageWidth = groupLook.offsetWidth;\n\t\t\timageHeight = (groupLook.offsetWidth / imgRatio);\n\t\t\tthis.direction = 'vertical';\n\t\t} else {\n\t\t\timageWidth = (groupLook.offsetHeight * imgRatio);\n\t\t\timageHeight = groupLook.offsetHeight;\n\t\t\tthis.direction = 'horizontal';\n\t\t}\n\t\tpicture.style.width = `${imageWidth}px`;\n\t\tpicture.style.height = `${imageHeight}px`;\n\t\tthis.containerWidth = containerWidth;\n\t\tthis.containerHeight = containerHeight;\n\t\tthis.imageWidth = imageWidth;\n\t\tthis.imageHeight = imageHeight;\n\t\tthis.listingInner.style.width = 'auto';\n\t\tthis.cards.forEach((card, i) => {\n\t\t\tconst listingInnerWidth = card.node.offsetWidth * Math.ceil(this.cards.length / 2);\n\t\t\tif (i === 0) {\n\t\t\t\tthis.listingInner.style.width = `${listingInnerWidth}px`;\n\t\t\t}\n\t\t\tif (card.item.active) {\n\t\t\t\t// const x = (card.node.getBoundingClientRect().left - this.listing.getBoundingClientRect().left) + this.listing.scrollLeft;\n\t\t\t\tconst dx = containerWidth - listingInnerWidth;\n\t\t\t\tconst translation = this.getTranslate(this.listingInner);\n\t\t\t\tlet x = (this.listing.getBoundingClientRect().left - card.node.getBoundingClientRect().left) + translation.x;\n\t\t\t\tx = Math.min(0, Math.max(dx, x));\n\t\t\t\t(event ? gsap.set : gsap.to)(this.listingInner, {\n\t\t\t\t\tx: x,\n\t\t\t\t\tduration: 0.3,\n\t\t\t\t\tdelay: 0.1,\n\t\t\t\t\toverwrite: true,\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.listingInnerWidth = listingInnerWidth;\n\t\t});\n\t\tconst pinPosition = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tthis.pins.forEach(pin => {\n\t\t\tconst pinX = imageWidth / img.naturalWidth * pin.item.position.x;\n\t\t\tconst pinY = imageWidth / img.naturalWidth * pin.item.position.y;\n\t\t\tgsap.set(pin.node, {\n\t\t\t\tx: pinX,\n\t\t\t\ty: pinY,\n\t\t\t});\n\t\t\tif (pin.item.active) {\n\t\t\t\tpinPosition.x = pinX;\n\t\t\t\tpinPosition.y = pinY;\n\t\t\t}\n\t\t});\n\t\tconst dx = containerWidth - imageWidth;\n\t\tconst dy = containerHeight - imageHeight;\n\t\tlet x = containerWidth / 2 - pinPosition.x;\n\t\tlet y = containerHeight / 2 - pinPosition.y;\n\t\t(event ? gsap.set : gsap.to)(this.picture, {\n\t\t\tx: Math.min(0, Math.max(dx, x)),\n\t\t\ty: Math.min(0, Math.max(dy, y)),\n\t\t\tduration: 0.3,\n\t\t\toverwrite: true,\n\t\t});\n\t}\n\n\tonWheel(event) {\n\t\t// console.log(event.deltaY);\n\t\tevent.preventDefault();\n\t\tconst dx = this.containerWidth - this.listingInnerWidth;\n\t\tconst translation = this.getTranslate(this.listingInner);\n\t\tlet x = translation.x - event.deltaY;\n\t\tx = Math.min(0, Math.max(dx, x));\n\t\tgsap.to(this.listingInner, {\n\t\t\tx: x,\n\t\t\tduration: 0.3,\n\t\t\toverwrite: true,\n\t\t});\n\t}\n\n\tonDelayedResize() {\n\t\tgsap.set(this.listingInner, {\n\t\t\tx: 0,\n\t\t});\n\t\tto ? clearTimeout(to) : null;\n\t\tto = setTimeout(this.onResize, 5);\n\t}\n\n\taddListeners() {\n\t\tthis.loadImage();\n\t\tthis.onResize = this.onResize.bind(this);\n\t\tthis.onDelayedResize = this.onDelayedResize.bind(this);\n\t\tthis.onWheel = this.onWheel.bind(this);\n\t\t// this.onMove = this.onMove.bind(this);\n\t\t// this.onEnter = this.onEnter.bind(this);\n\t\t// this.onLeave = this.onLeave.bind(this);\n\t\twindow.addEventListener('resize', this.onDelayedResize);\n\t\tthis.listing.addEventListener('mousewheel', this.onWheel);\n\n\t\t// window.addEventListener('mousemove', this.onMove);\n\t\t// this.groupLook.addEventListener('mouseenter', this.onEnter);\n\t\t// this.groupLook.addEventListener('mouseleave', this.onLeave);\n\t\tthis.cards.forEach(x => {\n\t\t\tx.on('click', () => {\n\t\t\t\t// console.log('TotalLookComponent.card.click', x.item);\n\t\t\t\tthis.setActive(x.item);\n\t\t\t\tthis.node.classList.remove('open');\n\t\t\t\tthis.node.classList.remove('show-hint');\n\t\t\t});\n\t\t});\n\t\tthis.pins.forEach(x => {\n\t\t\tx.on('click', () => {\n\t\t\t\t// console.log('TotalLookComponent.pin.click', x.item);\n\t\t\t\tthis.setActive(x.item);\n\t\t\t\tthis.node.classList.add('open');\n\t\t\t\tthis.node.classList.remove('show-hint');\n\t\t\t});\n\t\t});\n\t}\n\n\tremoveListeners() {\n\t\tthis.removeDragListener();\n\t\twindow.removeEventListener('resize', this.onResize);\n\t\tthis.listing.removeEventListener('mousewheel', this.onWheel);\n\t\t// window.removeEventListener('mousemove', this.onMove);\n\t\t// this.groupLook.removeEventListener('mouseenter', this.onEnter);\n\t\t// this.groupLook.removeEventListener('mouseleave', this.onLeave);\n\t}\n\n\taddDragListener() {\n\t\tconst picture = this.picture;\n\t\tlet translation = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tthis.draglistener = new DragListener(this.groupLook, (e) => {\n\t\t\ttranslation = this.getTranslate(picture);\n\t\t\tthis.node.classList.remove('open');\n\t\t\tthis.node.classList.remove('show-hint');\n\t\t\tthis.node.classList.add('grabbing');\n\t\t}, (e) => {\n\t\t\tconst dx = this.containerWidth - this.imageWidth;\n\t\t\tconst dy = this.containerHeight - this.imageHeight;\n\t\t\tconst x = translation.x + e.distance.x;\n\t\t\tconst y = translation.y + e.distance.y;\n\t\t\tgsap.to(picture, {\n\t\t\t\tx: Math.min(0, Math.max(dx, x)),\n\t\t\t\ty: Math.min(0, Math.max(dy, y)),\n\t\t\t\tduration: 0.3,\n\t\t\t\toverwrite: true,\n\t\t\t});\n\t\t}, (e) => {\n\t\t\t//\n\t\t\tthis.node.classList.remove('grabbing');\n\t\t});\n\t}\n\n\tremoveDragListener() {\n\t\tif (this.draglistener) {\n\t\t\tthis.draglistener.destroy();\n\t\t}\n\t}\n\n\tgetTranslate(node) {\n\t\tlet x = 0,\n\t\t\ty = 0;\n\t\tconst transform = node.style.transform;\n\t\tif (transform) {\n\t\t\tconst coords = transform.split('(')[1].split([')'])[0].split(',');\n\t\t\tx = parseFloat(coords[0]);\n\t\t\ty = parseFloat(coords[1]);\n\t\t}\n\t\treturn {\n\t\t\tx,\n\t\t\ty\n\t\t};\n\t}\n\n}\n","import Emitter from \"../emitter/emitter\";\n\nexport default class Component extends Emitter {\n\n\tgetNode() {\n\t\tif (typeof this.render === 'function') {\n\t\t\tconst template = this.render();\n\t\t\tif (!template) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst div = document.createElement(\"div\");\n\t\t\tdiv.innerHTML = template;\n\t\t\tconst node = div.firstElementChild;\n\t\t\treturn node;\n\t\t}\n\t}\n\n\tsetNode(node) {\n\t\tconst template = this.getNode();\n\t\tif (template) {\n\t\t\tnode.parentNode.replaceChild(template, node);\n\t\t\tnode = template;\n\t\t}\n\t\tthis.node = node;\n\t\tif (typeof this.onInit === 'function') {\n\t\t\tthis.onInit(this.node);\n\t\t}\n\t\treturn this;\n\t}\n\n\tsetParentNode(node) {\n\t\tconst template = this.getNode();\n\t\tif (template) {\n\t\t\tnode.appendChild(template);\n\t\t}\n\t\tthis.node = template;\n\t\tif (typeof this.onInit === 'function') {\n\t\t\tthis.onInit(this.node);\n\t\t}\n\t\treturn this;\n\t}\n\n\tdestroy() {\n\t\tif (typeof this.onDestroy === 'function') {\n\t\t\tthis.onDestroy(this.node);\n\t\t}\n\t}\n\n\t/*\n\trender() {\n\t\treturn `<div class=\"card--component\">\n\t\t\tI'm an ES6 component!\n\t\t</div>`;\n\t}\n\t*/\n}\n","export default class Emitter {\n\n\tconstructor(options = {}) {\n\t\tObject.assign(this, options);\n\t\tthis.events = {};\n\t}\n\n\ton(type, callback) {\n\t\tconst event = (this.events[type] = this.events[type] || []);\n\t\tevent.push(callback);\n\t\treturn () => {\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\n\t\t};\n\t}\n\n\toff(type, callback) {\n\t\tconst event = this.events[type];\n\t\tif (event) {\n\t\t\tthis.events[type] = event.filter(x => x !== callback);\n\t\t}\n\t}\n\n\temit(type, data) {\n\t\tconst event = this.events[type];\n\t\tif (event) {\n\t\t\tevent.forEach(callback => {\n\t\t\t\t// callback.call(this, data);\n\t\t\t\tcallback(data);\n\t\t\t});\n\t\t}\n\t\tconst broadcast = this.events.broadcast;\n\t\tif (broadcast) {\n\t\t\tbroadcast.forEach(callback => {\n\t\t\t\tcallback(type, data);\n\t\t\t});\n\t\t}\n\t}\n\n}\n","export default class DragListener {\n\n\tget passive() {\n\t\tif (this.passive_ !== undefined) {\n\t\t\treturn this.passive_;\n\t\t} else {\n\t\t\tthis.passive_ = false;\n\t\t\ttry {\n\t\t\t\tconst options = Object.defineProperty({}, 'passive', {\n\t\t\t\t\tget: () => {\n\t\t\t\t\t\tthis.passive_ = !0;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\twindow.addEventListener('test', null, options);\n\t\t\t} catch (err) {\n\n\t\t\t}\n\t\t\treturn this.passive_;\n\t\t}\n\t}\n\n\tget options() {\n\t\tif (this.passive) {\n\t\t\treturn {\n\t\t\t\tpassive: false,\n\t\t\t\tcapture: true\n\t\t\t};\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tconstructor(currentTarget, downCallback, moveCallback, upCallback) {\n\t\tthis.currentTarget = currentTarget || document;\n\t\tthis.downCallback = downCallback || function (e) {\n\t\t\tconsole.log('DragListener.downCallback not setted', e);\n\t\t};\n\t\tthis.moveCallback = moveCallback || function (e) {\n\t\t\tconsole.log('DragListener.moveCallback not setted', e);\n\t\t};\n\t\tthis.upCallback = upCallback || function (e) {\n\t\t\tconsole.log('DragListener.upCallback not setted', e);\n\t\t};\n\t\tthis.dragging = false;\n\t\tthis.onMouseDown = this.onMouseDown.bind(this);\n\t\tthis.onMouseMove = this.onMouseMove.bind(this);\n\t\tthis.onMouseUp = this.onMouseUp.bind(this);\n\t\tthis.onTouchStart = this.onTouchStart.bind(this);\n\t\tthis.onTouchMove = this.onTouchMove.bind(this);\n\t\tthis.onTouchEnd = this.onTouchEnd.bind(this);\n\t\tthis.addListeners();\n\t}\n\n\taddListeners() {\n\t\tthis.currentTarget.addEventListener('touchstart', this.onTouchStart, this.options);\n\t\tthis.currentTarget.addEventListener('mousedown', this.onMouseDown, this.options);\n\t}\n\n\tdestroy() {\n\t\tthis.currentTarget.removeEventListener('touchstart', this.onTouchStart);\n\t\tthis.currentTarget.removeEventListener('mousedown', this.onMouseDown);\n\t\tthis.removeMouseListeners();\n\t\tthis.removeTouchListeners();\n\t}\n\n\tonDown(down) {\n\t\tthis.down = down;\n\t\tthis.strength = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tthis.distance = this.distance || {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tthis.speed = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tthis.downCallback(this);\n\t}\n\n\tonDrag(position) {\n\t\tthis.dragging = position && this.down !== undefined;\n\t\tif (this.dragging) {\n\t\t\tconst currentTarget = this.currentTarget;\n\t\t\tconst distance = {\n\t\t\t\tx: position.x - this.down.x,\n\t\t\t\ty: position.y - this.down.y\n\t\t\t};\n\t\t\tconst strength = {\n\t\t\t\tx: distance.x / window.innerWidth * 2,\n\t\t\t\ty: distance.y / window.innerHeight * 2\n\t\t\t};\n\t\t\tconst speed = {\n\t\t\t\tx: this.speed.x + (strength.x - this.strength.x) * 0.1,\n\t\t\t\ty: this.speed.y + (strength.y - this.strength.y) * 0.1\n\t\t\t};\n\t\t\tthis.position = position;\n\t\t\tthis.distance = distance;\n\t\t\tthis.strength = strength;\n\t\t\tthis.speed = speed;\n\t\t\tthis.moveCallback({\n\t\t\t\tposition: position,\n\t\t\t\tdistance: distance,\n\t\t\t\tstrength: strength,\n\t\t\t\tspeed: speed,\n\t\t\t\tcurrentTarget: currentTarget,\n\t\t\t});\n\t\t}\n\t}\n\n\tonUp() {\n\t\tthis.down = undefined;\n\t\tthis.dragging = false;\n\t\tthis.upCallback(this);\n\t}\n\n\tonMouseDown(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tthis.currentTarget.removeEventListener('touchstart', this.onTouchStart);\n\t\tthis.onDown({\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY\n\t\t});\n\t\tthis.addMouseListeners();\n\t}\n\n\tonMouseMove(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tthis.onDrag({\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY\n\t\t});\n\t}\n\n\tonMouseUp(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tthis.removeMouseListeners();\n\t\t/*\n\t\tthis.onDrag({\n\t\t\tx: e.clientX,\n\t\t\ty: e.clientY\n\t\t});\n\t\t*/\n\t\tthis.onUp();\n\t}\n\n\tonTouchStart(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tthis.currentTarget.removeEventListener('mousedown', this.onMouseDown);\n\t\tif (e.touches.length > 0) {\n\t\t\t// e.preventDefault();\n\t\t\tthis.onDown({\n\t\t\t\tx: e.touches[0].pageX,\n\t\t\t\ty: e.touches[0].pageY\n\t\t\t});\n\t\t\tthis.addTouchListeners();\n\t\t}\n\t}\n\n\tonTouchMove(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tif (e.touches.length > 0) {\n\t\t\t// e.preventDefault();\n\t\t\tthis.onDrag({\n\t\t\t\tx: e.touches[0].pageX,\n\t\t\t\ty: e.touches[0].pageY\n\t\t\t});\n\t\t}\n\t}\n\n\tonTouchEnd(e) {\n\t\tthis.originalEvent = e;\n\t\tthis.target = e.target;\n\t\tthis.removeTouchListeners();\n\t\tthis.onDrag(this.position);\n\t\tthis.onUp();\n\t}\n\n\taddMouseListeners() {\n\t\tdocument.addEventListener('mousemove', this.onMouseMove, this.options);\n\t\tdocument.addEventListener('mouseup', this.onMouseUp, this.options);\n\t}\n\n\taddTouchListeners() {\n\t\tdocument.addEventListener('touchend', this.onTouchEnd, this.options);\n\t\tdocument.addEventListener('touchmove', this.onTouchMove, this.options);\n\t}\n\n\tremoveMouseListeners() {\n\t\tdocument.removeEventListener('mousemove', this.onMouseMove);\n\t\tdocument.removeEventListener('mouseup', this.onMouseUp);\n\t}\n\n\tremoveTouchListeners() {\n\t\tdocument.removeEventListener('touchend', this.onTouchEnd);\n\t\tdocument.removeEventListener('touchmove', this.onTouchMove);\n\t}\n\n}\n","import Component from \"../component/component\";\n\nexport default class TotalLookCardComponent extends Component {\n\n\tonInit(node) {\n\t\tthis.item = node.hasAttribute('data-item') ? new Function(`return ${node.getAttribute('data-item')}`)() : {};\n\t\tthis.addListeners();\n\t}\n\n\tonDestroy() {\n\t\tthis.removeListeners();\n\t}\n\n\tonResize() {\n\t\t// console.log('TotalLookCardComponent.onResize');\n\t}\n\n\tonClick() {\n\t\t// console.log('TotalLookCardComponent.onClick');\n\t\tthis.emit('click');\n\t}\n\n\taddListeners() {\n\t\t// this.onResize = this.onResize.bind(this);\n\t\tthis.onClick = this.onClick.bind(this);\n\t\t// window.addEventListener('resize', this.onResize);\n\t\tthis.node.addEventListener('click', this.onClick);\n\t}\n\n\tremoveListeners() {\n\t\t// window.removeEventListener('resize', this.onResize);\n\t\tthis.node.removeEventListener('click', this.onClick);\n\t}\n\n\tupdate() {\n\t\tif (this.item.active) {\n\t\t\tthis.node.classList.add('active');\n\t\t} else {\n\t\t\tthis.node.classList.remove('active');\n\t\t}\n\t}\n\n}\n","import Component from \"../component/component\";\n\nexport default class TotalLookPinComponent extends Component {\n\n\tconstructor(item) {\n\t\tsuper();\n\t\tthis.item = item;\n\t}\n\n\tonInit(node) {\n\t\tthis.addListeners();\n\t}\n\n\tonDestroy() {\n\t\tthis.removeListeners();\n\t}\n\n\tonResize() {\n\t\t// console.log('TotalLookPinComponent.onResize');\n\t\tthis.emit('click');\n\t}\n\n\tonClick() {\n\t\t// console.log('TotalLookPinComponent.onClick');\n\t\tthis.emit('click');\n\t}\n\n\taddListeners() {\n\t\t// this.onResize = this.onResize.bind(this);\n\t\tthis.onClick = this.onClick.bind(this);\n\t\t// window.addEventListener('resize', this.onResize);\n\t\tthis.node.addEventListener('click', this.onClick);\n\t}\n\n\tremoveListeners() {\n\t\t// window.removeEventListener('resize', this.onResize);\n\t\tthis.node.removeEventListener('click', this.onClick);\n\t}\n\n\trender() {\n\t\treturn `<div class=\"pin\"></div>`;\n\t}\n\n\tupdate() {\n\t\tif (this.item.active) {\n\t\t\tthis.node.classList.add('active');\n\t\t} else {\n\t\t\tthis.node.classList.remove('active');\n\t\t}\n\t}\n\n}\n","import TotalLookComponent from './total-look/total-look.component';\n\nexport default class Main {\n\n\tconstructor() {\n\t\tconst components = this.addComponents();\n\t}\n\n\taddComponents() {\n\t\tconst SELECTORS = {\n\t\t\t'[total-look]': TotalLookComponent,\n\t\t};\n\t\tlet instances = [];\n\t\tfor (let key in SELECTORS) {\n\t\t\tinstances = instances.concat(Array.from(document.querySelectorAll(key))\n\t\t\t\t.map(node => {\n\t\t\t\t\tconst instance = new SELECTORS[key]().setNode(node);\n\t\t\t\t\tinstance.on('click', () => {\n\t\t\t\t\t\talert('clicked');\n\t\t\t\t\t});\n\t\t\t\t\treturn instance;\n\t\t\t\t}));\n\t\t}\n\t\tinstances.forEach(x => console.log(x));\n\t\treturn instances;\n\t}\n\n}\n\nconst main = new Main();\n"]}